var API;if(typeof API!="undefined"&&API.attachListener&&Function.prototype.call){(function(){var B=API.attachListener,H=API.detachListener;var G,C;var E=function(L,N,M,K,I){var J=function(O){var Q=O.changedTouches[0],P=[Q.pageY,Q.pageX];M.call(I||L,O,L,P)};B(L,"touchstart",N,I);B(L,"touchmove",J,I);B(L,"touchend",K,I)};var D=function(K,R,M,Q,N,J){var P=API.getElementDocument(K);var I=function(S){J=true;R.call(N||K,S,K)};var L=function(S){if(J){M.call(N||K,S,K,API.getMousePosition(S))}};var O=function(S){if(J){J=false;Q.call(N||K,S,K)}};B(K,"mousedown",I,N);B(P,"mousemove",L,N);B(P,"mouseup",O,N)};var F=function(K,N,L,J,I){var M;return(M=function(P){var O=P.type;H(K,"touchstart",M);H(K,"mousedown",M);N.call(I||K,P,K);if(!O.indexOf("mouse")){E=D}E(K,N,L,J,I,true)})};API.attachTouchListeners=function(K,N,L,J,I){var M;if(typeof G=="undefined"){M=F(K,N,L,J,I);B(K,"touchstart",M,I);B(K,"mousedown",M,I)}else{E(K,N,L,J,I)}};var A=function(K,J,I){var L;return(L=function(N){var M=N.type;H(K,"tap",L);H(K,"click",L);J.call(I||K,N);if(!M.indexOf("tap")){C="tap"}else{C="click"}B(K,C,J)})};API.attachTapListener=function(K,J,I){var L;if(typeof C=="undefined"){L=A(K,J,I);B(K,"tap",L,I);B(K,"click",L,I)}else{B(K,C,J,I)}}})()}