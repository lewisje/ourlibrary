var API;if(typeof API!="undefined"&&API.attachListener){(function(){var A=API.attachListener,F=API.detachListener;var E;var C=function(J,L,K,I,G){var H=function(M){var O=M.touches[0],N=[O.pageY,O.pageX];K.call(G||J,M,J,N)};A(J,"touchstart",L,G);A(J,"touchmove",H,G);A(J,"touchend",I,G)};var B=function(I,P,K,O,L,H){var N=API.getElementDocument(I);var G=function(Q){H=true;P.call(L||I,Q,I)};var J=function(Q){if(H){K.call(L||I,Q,I,API.getMousePosition(Q))}};var M=function(Q){H=false;O.call(L||I,Q,I)};A(I,"mousedown",G,L);A(N,"mousemove",J,L);A(N,"mouseup",M,L)};var D=function(I,L,J,H,G){var K;return(K=function(N){var M=N.type;F(I,"touchstart",K);F(I,"mousedown",K);L.call(G||I,N,I);if(!M.indexOf("touch")){E="Touch";C(I,L,J,H,G)}else{E="Mouse";B(I,L,J,H,G,true)}})};API.attachTouchListeners=function(I,L,J,H,G){var K;if(typeof E=="undefined"){K=D(I,L,J,H,G);A(I,"touchstart",K,G);A(I,"mousedown",K,G)}else{if(E=="Touch"){C(I,L,J,H,G)}else{B(I,L,J,H,G)}}}})()}