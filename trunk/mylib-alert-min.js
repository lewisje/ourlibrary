var global=this;if(this.API&&typeof this.API=="object"&&this.API.areFeatures&&this.API.areFeatures("attachListener","createElement","setElementText")){this.API.attachDocumentReadyListener(function(){var F=global.API;var h=F.showElement;var E=F.centerElement;var V=F.constrainPositionToViewport;var f=F.maximizeElement;var Q=F.restoreElement;var AF=F.setElementText;var AG=F.setElementHtml;var r=F.setOpacity;var G=F.sizeElement;var a=F.fixElement;var O=F.getChildren;var Z=F.addClass;var S=F.removeClass;var J=F.getElementPositionStyle;var j=F.getElementSizeStyle;var AD=F.cancelDefault;var K,N,AB,o;var AC=F.createElement("div");var d=F.createElement("div");var B=F.createElement("input");var z=F.createElement("fieldset");var k,m,t,A,C,I,AA,M,AE;var Y=F.getBodyElement();var T,w,X,U;var l={};var p,D,q,e,y,L;var n;function x(AH){K.title="Double-click to "+((AH)?"restore":"maximize")}function s(AH){if(AH){S(t,"maximizebutton");Z(t,"restorebutton")}else{S(t,"restorebutton");Z(t,"maximizebutton")}t.title=(!AH)?"Maximize":"Restore"}function P(AH){((AH)?F.detachDrag:F.attachDrag)(AC,K)}function c(AI,AH){if(arguments.length==1){AH=true}if(AH){Z(AI,"disabled")}else{S(AI,"disabled")}if(r){r(AI,(AH)?0.6:1)}}function R(AH){if(A){c(A,d.style.display=="none")}if(t){if(AH){s(!T);if(K){x(!T)}}else{s(T);if(K){x(T)}}}}function H(AI,AH){AI.style.visibility=(AH)?"hidden":""}function g(AH){if(N){H(N,AH)}if(AB){H(AB,AH)}if(o){H(o,AH)}if(K){x(AH);P(AH)}if(t){s(AH)}if(k){c(k,AH)}}function v(AH){var AJ,AK,AI=O(AC);AJ=AI.length;while(AJ--){AK=AI[AJ];if(AK!=C&&AK!=A&&AK!=K&&AK!=m&&AK!=k&&AK!=t){AK.style.display=AH?"none":""}}}function b(AH,AI){if(AH){l.pos=J(AC);l.dim=j(AC);Z(AC,"minimized");P(false)}else{if(!T){if(k&&k.className.indexOf("selected")!=-1&&AC.style.position!="fixed"){V(l.pos)}F.positionElement(AC,l.pos[0],l.pos[1],X);F.sizeElement(AC,l.dim[0],l.dim[1],X)}S(AC,"minimized");P(T)}v(AH);if(!AH&&T){Q(AC);i(true)}if(AH){AC.style.height=AC.style.width=""}R(AH)}function i(AH){((AH)?f:Q)(AC,X);g(AH);T=AH}function W(){if(d.style.display=="none"){b(false)}else{i(!T)}}function u(AH){if(U){if(AH){if(e&&e()){return false}}if(n){if(L&&L()){return false}}if(!y||!y(AC,w)){h(AC,false,w)}U=false;return true}return false}F.dismissAlert=u;F.getAlertElement=function(){return AC};F.enableAlertApplyButton=function(AH){if(AE){AE.disabled=!!AH}n=!AH};if(h&&E&&G&&F.getScrollPosition&&AC&&B&&z&&d&&Y&&F.isHostMethod(global,"setTimeout")){if(F.attachDrag){K=F.createElement("div");if(K){K.className="movehandle";AC.appendChild(K);if(!F.absoluteElement){AC.style.position="absolute"}P(false);if(f&&Z){t=F.createElement("div");if(t){x(false);t.title="Maximize";t.className="maximizebutton";AC.appendChild(t);F.attachListener(t,"click",function(AH){if(this.className.indexOf("disabled")==-1){W()}})}F.attachListener(K,"dblclick",function(AH){W();return AD(AH)})}m=F.createElement("div");if(m){m.className="icon";F.attachListener(m,"dblclick",function(){if(!C||C.className.indexOf("disabled")==-1){u(false)}});AC.appendChild(m)}C=F.createElement("div");if(C){C.className="closebutton";C.title="Close";F.attachListener(C,"click",function(){if(this.className.indexOf("disabled")==-1){u(false)}});AC.appendChild(C)}if(O&&F.canAdjustStyle&&F.canAdjustStyle("display")&&Z&&F.maximizeElement){A=F.createElement("div");if(A){A.className="minimizebutton";A.title="Minimize";F.attachListener(A,"click",function(){if(this.className.indexOf("disabled")==-1){b(true)}});AC.appendChild(A)}}if(a&&Z&&S){k=F.createElement("div");if(k){k.title="Fix";k.className="fixbutton";AC.appendChild(k);F.attachListener(k,"click",function(AH){if(k.className.indexOf("disabled")!=-1){return }if(this.className=="fixbutton"){Z(this,"selected");k.title="Detach";a(AC,true,X)}else{S(this,"selected");this.className="fixbutton";k.title="Fix";a(AC,false,X)}})}}if(G){AB=F.createElement("div");if(AB){AB.className="sizehandleh";AC.appendChild(AB);F.attachDrag(AC,AB,{mode:"size",axes:"horizontal"})}o=F.createElement("div");if(o){o.className="sizehandlev";AC.appendChild(o);F.attachDrag(AC,o,{mode:"size",axes:"vertical"})}N=F.createElement("div");if(N){N.className="sizehandle";AC.appendChild(N);F.attachDrag(AC,N,{mode:"size"})}}}}d.className="content";AC.appendChild(d);B.type="button";B.value="Close";z.appendChild(B);M=F.createElement("input");if(M){M.type="button";M.value="No";z.appendChild(M)}AA=F.createElement("input");if(AA){AA.type="button";AA.value="Cancel";z.appendChild(AA)}AE=F.createElement("input");if(AE){AE.type="button";AE.value="Apply";z.appendChild(AE)}I=F.createElement("input");if(I){I.type="button";I.value="Help";z.appendChild(I)}AC.appendChild(z);AC.style.position="absolute";h(AC,false);F.positionElement(AC,0,0);F.attachListener(B,"click",function(){u(n)});Y.appendChild(AC);if(F.attachDocumentListener&&F.getKeyboardKey){F.attachDocumentListener("keyup",function(AH){if(U&&F.getKeyboardKey(AH)==27){if(!C||C.className.indexOf("disabled")==-1){u(false);return F.cancelDefault(AH)}}})}if(I){F.attachListener(I,"click",function(){if(p){p()}})}if(AA){F.attachListener(AA,"click",function(){if(!D||!D()){u(false)}})}if(M){F.attachListener(M,"click",function(){if(!q||!q()){u(false)}})}if(AE){F.attachListener(AE,"click",function(){if(!e||!e()){this.disabled=true}})}F.alert=function(AJ,AI,AM,AH){AI=AI||{};w=AI;X={duration:AI.duration,ease:AI.ease};if(I){p=AI.onhelp;I.style.display=(p)?"":"none"}if(AA){D=AI.oncancel;AA.style.display=(AI.decision&&AI.decision!="yesno")?"":"none"}if(M){q=AI.onno;M.style.display=(AI.decision=="yesno"||AI.decision=="yesnocancel")?"":"none"}if(C){c(C,!!AI.decision)}if(m){m.title=AI.decision?"":"Double-click to close"}n=false;if(AE){AE.disabled=!n;e=AI.onsave;L=AI.onbeforeclose;AE.style.display=(AI.onsave&&AI.decision&&AI.decision!="yesno"&&AI.decision!="confirm")?"":"none"}B.value=(AI.decision)?((AI.decision.indexOf("yes")!=-1)?"Yes":AI.buttonCaption||"OK"):"Close";if(K){var AN=AI.title||"Alert";AF(K,AN)}y=AH||AI.onclose;h(AC,false);if(!T&&AI.shrinkWrap!==false){AC.style.height="";AC.style.width=""}if(AG&&AI.html){AG(d,AI.html)}else{if(AJ!==null){AF(d,AJ)}}AC.className=AI.className||"alert";AC.style.display="block";if(d.style.display=="none"){v(false);if(T){Q(AC);f(AC)}R(false)}if(G){if(AI.shrinkWrap!==false){var AL;if(!T){AC.style.height="1px";AL=AC.offsetHeight;AC.style.height=""}AL=AC.clientLeft}var AK=j(AC);if(AK){G(AC,AK[0],AK[1])}}if(U||!AM||!AM(AC,AI,T)){if(U){if(!k||k.className.indexOf("selected")==-1){global.setTimeout(function(){E(AC,{duration:AI.duration,ease:AI.ease,fps:AI.fps})},10)}h(AC)}else{if(!T){E(AC)}else{f(AC)}h(AC,true,AI)}}if(!U&&B&&F.isHostMethod(B,"focus")){global.setTimeout(function(){if(AC.style.visibility=="visible"&&d.style.display!="none"){B.focus()}},(AI.duration)?AI.duration:0)}U=true}}z=null;Y=null})}