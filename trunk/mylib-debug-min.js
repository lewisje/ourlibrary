var global=this;if(this.API&&typeof this.API=="object"&&this.API.isOwnProperty){(function(){var N=global.API;var E=N.isOwnProperty;var H=N.isRealObjectProperty;var C=N.isEmptyTextNode;var S=N.getElementNodeName;var B;var F=[];var I,P,J,G,D,R={},L={},Q;function K(W){var V=W.length;while(V--){if(L[W[V]]){L[W[V]]()}else{N.warn("Advisor not found: "+W[V])}}}N.registerAdvisor=function(V,W){if(L[V]){if(L[V]==W){N.warn("Duplicate advisor registration: "+V)}else{N.warn("Advisor registration overwritten: "+V)}}else{L[V]=W;N.log("Advisor registered: "+V)}};function T(Z,V,Y){var X;function W(d){var c=d.length,b=[];while(c--){if(typeof d[c]!="undefined"||b.length){b[c]=d[c]}}return b}for(X in Z){if(E(Z,X)){if(X=="log"){continue}if(typeof (Z[X])=="function"){if(V){R[X]=Z[X];Z[X]=(function(b,a){return function(){var d=W(arguments);var c=[];c.length=d.length;if(!D){for(var e=d.length;e--;){if(typeof d[e]=="string"){c[e]=["'",d[e].replace("'","\\'"),"'"].join("")}else{if(Object.prototype.toString.call(d[e])=="[object Array]"){c[e]=["[",d[e],"]"].join("")}else{c[e]=d[e]}}}I("Call: "+b+"("+c.join(", ")+")")}return a.apply(Z,d)}})(X,Z[X])}else{Z[X]=R[X]}}else{if(H(Z,X)&&X!="attachedListeners"&&X!="eventContexts"&&!Z[X].dontdebug){T(Z[X],V)}}}}}if(Function.prototype.apply){N.debug=function(V,X,W){if(V!=P){P=V;D=true;T(N,V);D=!!W;if(X){if(V){K(X)}else{N.warn("Advisors may only be specified when enabling debugging")}}I("Debugging "+((V)?"enabled":"disabled"))}else{N.warn("Debugging is already "+(P)?"on":"off")}};N.toggleDebug=function(V){N.debug(!P,!P&&V)}}var M=(function(){if(N.addElementHTML){return function(V,X,W){N.addElementHTML(V,((W)?W:X)+"<br>")}}if(N.addElementText){return function(V,W){N.addElementText(V,W+"\r\n")}}})();function A(X,W){var V;if(J){V=D;D=true;if(S(J)=="textarea"){J.value+=((J.value)?"\r\n":"")+X}else{if(M){M(J,X,W)}}if(B){B(J)}D=V}else{F[F.length]={text:X,html:W}}}function O(){var V;F=F.reverse();V=F.length;while(V--){A(F[V].text,F[V].html)}F=[]}N.setConsoleElement=function(V){J=V;if(F.length){O()}B=N.setElementScrollPositionBottom};if(H(this,"console")&&N.isHostMethod(this.console,"log")){G=global.console}N.clearLog=function(){if(J){if(S(J)=="textarea"){J.value=""}else{N.setElementText(J,"")}}};I=N.log=function(X,W,V){if(G&&!V){G.log(X+"")}if(J&&F.length){O()}A(X,W)};N.warn=function(W){var V;if(G&&N.isHostMethod(G,"warn")){G.warn(W);V=true}I("WARNING: "+W,null,V)};N.error=function(W){var V;if(G&&N.isHostMethod(G,"error")){G.error(W);V=true}I("ERROR: "+W,null,V)};N.properties=function(Y,X){Y=Y||N;var W;var V=[];for(W in Y){if(typeof (Y[W])!="undefined"&&(X||E(Y,W))){V[V.length]=W}}if(V.sort){V.sort()}return V};var U=N.runUnitTest=function(X){var W=X.expected;if(typeof W=="undefined"){W=true}var V=X.run()===W;I(X.name+": "+(V?"success":"failure"));return V};N.runUnitTests=function(Z){var a=0;var Y=+(new Date());var V=Z.length,X=V;Z=Z.slice(0).reverse();if(X){I("Running "+X+" test"+(X==1?"":"s"));while(X--){U(Z[X])&&a++}var W=+(new Date())-Y;I(a+" of "+V+" succeeded ("+((a/V)*100)+"%)");I("Time: "+W)}};if(N.getHtmlElement&&N.getHtmlElement()){Q=(function(){var X="                                                      ";var V;var Y;function W(a,Z){V[V.length]=X.substring(0,Z-1)+a}return function(Z,a){if(!a){V=[]}a=a||1;switch(Z.nodeType){case 3:W("["+(C(Z)?"whitespace":"text")+"]",a);break;case 4:W("[cdata]",a);break;case 8:W("[comment]",a);break;case 10:W("[doctype]",a);break;case 9:W("[document]",a);default:if(Z.nodeType==1){Y=S(Z);if(Y){if(Y=="!"){W("[comment]",a)}else{W(Y+((Z.id)?"("+Z.id+")":""),a)}}}else{if(!Z.nodeType&&!Z.tagName){Z=N.getHtmlElement(Z)}if(!Z){return V}else{if(Z.nodeType!=9){W("html")}}}if(Z.firstChild){Q(Z.firstChild,++a);--a}}if(Z.nextSibling){Q(Z.nextSibling,a)}return V}})();N.logElementTraversal=function(V){I(Q(V).join("\n"))}}})()}