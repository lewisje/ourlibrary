var API,global=this;if(API&&API.areFeatures&&API.areFeatures("getEBTN","getElementText","checkControl","emptyNode","attachListener")){(function(){var R=API;var O=R.isHostMethod;var X=R.createElement,A=R.getEBTN;var E=R.isControlChecked,L=R.isControlDisabled,g=R.isControlPressed,i=R.callInContext;var W=R.setControlRole,K=R.checkControl,H=R.disableControl,V=R.pressControl;var F=R.attachListener,P=R.detachListener,c=R.cancelDefault,I=R.cancelPropagation,f=R.getEventTarget,D=R.getEventTargetRelated;var U=R.emptyNode,h=R.getElementNodeName,T=R.getElementParentElement,Q=R.getElementDocument,C=R.getElementText;var Z=R.attachDragToControl,N=R.detachDragFromControl;var b=R.toArray;var e;var J=function(j){if(W){W(j,"button")}if(E(j)){K(j)}if(g(j)){V(j)}if(L(j)){H(j)}if(API.makeElementUnselectable){API.makeElementUnselectable(j)}};var B=function(j){return c(j)};var G=function(k,j){return function(l){if(i(k,j,this,D(l))===false){if(O(this,"blur")){this.blur()}return c(l)}}};var S=function(m,k,l){var j=X("a",l);if(j){j.appendChild(l.createTextNode(k));j.tabIndex=0;j.href="#";U(m);m.appendChild(j)}return j};var Y=function(j,m,l,k){F(j,"click",B,m);if(l){F(j,"focus",G(l,k||API),m)}};var M=function(l,s,q){if(!q){q=Q(l)}if(q&&O(q,"createTextNode")){if(W){W(l,"toolbar")}var n=A("div",l);for(var m=n.length;m--;){var j=n[m];var p,k=A("a",j);if(!k.length){var r=C(j);if(r){p=S(j,r,q)}}else{p=k[0]}Y(p,j,s.onfocus,s.callbackContext);J(j)}F(l,"mousedown",function(u){var t=f(u);if(h(t)=="a"){t=T(t)}if(T(t)==this){V(t)}});F(l,"mouseup",function(u){var t=f(u);if(h(t)=="a"){t=T(t)}if(T(t)==this){V(t,false)}});F(l,"click",function(z){var u,x,t,w=f(z),v;if(s.radio){var y=e(this);for(u=y.length;u--;){if(E(y[u])){v=y[u]}}}if(h(w)=="a"){w=T(w)}if(w!=this&&!L(w)){if(w&&s.onclick){t=i(s.onclick,s.callbackContext||API,this,w,v)}if(t!==false){if(s.radio){x=A("div",this);for(u=x.length;u--;){var AA=x[u];if(AA!=w){K(AA,false)}}if(w){K(w)}}}return c(z)}});var o=s.oncustomize;if(o){F(l,"dblclick",function(u){var t=f(u);if(t==this){i(o,s.callbackContext||API,this);return c(u)}})}l=n=null}};R.enhanceToolbar=M;var a=function(j){return I(j)};if(Z){R.attachDragToToolbar=function(m,n,j){Z(m,n);var l=A(m,"div");for(var k=l.length;k--;){F(l[k],"mousedown",a)}};R.detachDragFromToolbar=function(l,m){N(l,m);var k=A(l,"div");for(var j=k.length;j--;){P(k[j],"mousedown",a)}}}var d;if(X&&X("div")){R.addToolbarButton=d=function(m,k,n){if(!n){n=global.document}var l=X("div",n);var j=S(l,k.text||"",n);Y(j,l,k.onfocus,k.callbackContext);l.className=k.className||"button";if(k.title){m.title=k.title}if(k.id){m.id=k.id}J(l);m.appendChild(l);return l};R.removeToolbarButton=function(k,j){k.removeChild(j)};R.createToolbar=function(k,p){if(!p){p=global.document}if(!k){k={}}var n=X(k.tagName||"div",p);n.className=k.className||"toolbar";var o=k.buttons;if(o){var j=o.length;for(var m=0;m<j;m++){d(n,o[m],p)}}M(n,k,p);return n};R.getToolbarButtons=e=function(j){return b(j.getElementsByTagName("div"))}}R=null})()}