var API,global=this;if(API&&API.areFeatures&&API.areFeatures("getEBTN","getChildren","getElementText","checkControl","emptyNode","attachListener")){(function(){var R=API;var O=R.isHostMethod;var X=R.createElement,A=R.getEBTN,H=R.getChildren;var E=R.isControlChecked,M=R.isControlDisabled,e=R.isControlPressed,g=R.callInContext;var W=R.setControlRole,L=R.checkControl,I=R.disableControl,V=R.pressControl;var F=R.attachListener,P=R.detachListener,a=R.cancelDefault,J=R.cancelPropagation,d=R.getEventTarget,D=R.getEventTargetRelated;var U=R.emptyNode,f=R.getElementNodeName,T=R.getElementParentElement,Q=R.getElementDocument,C=R.getElementText;var c;var K=function(h){if(W){W(h,"button")}if(E(h)){L(h)}if(e(h)){V(h)}if(M(h)){I(h)}if(API.makeElementUnselectable){API.makeElementUnselectable(h)}};var B=function(h){return a(h)};var G=function(i,h){return function(j){if(g(i,h,this,D(j))===false){if(O(this,"blur")){this.blur()}return a(j)}}};var S=function(k,i,j){var h=X("a",j);if(h){if(i){h.appendChild(j.createTextNode(i))}else{if(API.addClass){API.addClass(k,"nocaption")}}h.tabIndex=0;h.href="#";U(k);k.appendChild(h)}return h};var Y=function(h,k,j,i){F(h,"click",B,k);if(j){F(h,"focus",G(j,i||API),k)}};var N=function(k,r,p){if(!p){p=Q(k)}if(!r){r={}}if(p&&O(p,"createTextNode")){if(W){W(k,"toolbar")}var m=H(k);for(var l=m.length;l--;){var h=m[l];var o,j=A("a",h);if(!j.length){var q=C(h);if(q){o=S(h,q,p)}}else{o=j[0]}if(o){Y(o,h,r.onfocus,r.callbackContext)}K(h)}F(k,"mousedown",function(s){var i=d(s);if(f(i)=="a"){i=T(i)}if(T(i)==this&&!M(i)){V(i)}});F(k,"mouseup",function(s){var i=d(s);if(f(i)=="a"){i=T(i)}if(T(i)==this&&!M(i)){V(i,false)}});F(k,"click",function(y){var t,w,s,v=d(y),u;if(r.radio){var x=c(this);for(t=x.length;t--;){if(E(x[t])){u=x[t]}}}if(f(v)=="a"){v=T(v)}if(v!=this&&!M(v)){if(v&&r.onclick){s=g(r.onclick,r.callbackContext||API,this,v,u)}if(s!==false){if(r.radio){w=H(this);for(t=w.length;t--;){var z=w[t];if(z!=v){L(z,false)}}if(v){L(v)}}}return a(y)}});var n=r.oncustomize;if(n){F(k,"dblclick",function(s){var i=d(s);if(i==this){g(n,r.callbackContext||API,this);return a(s)}})}k=m=null}};R.enhanceToolbar=N;var Z=function(h){return J(h)};R.attachDocumentReadyListener(function(){var h=global.API,j=h.attachDragToControl,i=h.detachDragFromControl;if(j){h.attachDragToToolbar=function(n,o,k){j(n,o);var m=H(n);for(var l=m.length;l--;){F(m[l],"mousedown",Z)}};h.detachDragFromToolbar=function(m,n){i(m,n);var l=H(m);for(var k=l.length;k--;){P(l[k],"mousedown",Z)}}}h=null});var b;if(X&&X("div")){R.addToolbarButton=b=function(k,i,l){if(!l){l=global.document}var j=X("div",l);j.className=i.className||"button";var h=S(j,i.text||"",l);Y(h,j,i.onfocus,i.callbackContext);if(i.title){j.title=i.title}if(i.id){j.id=i.id}K(j);k.appendChild(j);return j};R.removeToolbarButton=function(i,h){i.removeChild(h)};R.createToolbar=function(j,o){if(!o){o=global.document}if(!j){j={}}var m=X(j.tagName||"div",o);m.className=j.className||"toolbar panel";if(j.id){m.id=j.id}var n=j.buttons;if(n){var h=n.length;for(var k=0;k<h;k++){b(m,n[k],o)}}N(m,j,o);return m};R.getToolbarButtons=c=function(h){return H(h)}}R=null})()}