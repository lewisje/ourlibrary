var API,global=this;if(API&&API.areFeatures&&API.areFeatures("getEBTN","getChildren","getElementText","checkControl","emptyNode","attachListener")){(function(){var R=API;var O=R.isHostMethod;var X=R.createElement,A=R.getEBTN,H=R.getChildren;var E=R.isControlChecked,M=R.isControlDisabled,f=R.isControlPressed,h=R.callInContext;var W=R.setControlRole,L=R.checkControl,I=R.disableControl,V=R.pressControl;var F=R.attachListener,P=R.detachListener,b=R.cancelDefault,J=R.cancelPropagation,e=R.getEventTarget,D=R.getEventTargetRelated;var U=R.emptyNode,g=R.getElementNodeName,T=R.getElementParentElement,Q=R.getElementDocument,C=R.getElementText;var a=R.toArray;var d;var K=function(i){if(W){W(i,"button")}if(E(i)){L(i)}if(f(i)){V(i)}if(M(i)){I(i)}if(API.makeElementUnselectable){API.makeElementUnselectable(i)}};var B=function(i){return b(i)};var G=function(j,i){return function(k){if(h(j,i,this,D(k))===false){if(O(this,"blur")){this.blur()}return b(k)}}};var S=function(l,j,k){var i=X("a",k);if(i){if(j){i.appendChild(k.createTextNode(j))}else{if(API.addClass){API.addClass(l,"nocaption")}}i.tabIndex=0;i.href="#";U(l);l.appendChild(i)}return i};var Y=function(i,l,k,j){F(i,"click",B,l);if(k){F(i,"focus",G(k,j||API),l)}};var N=function(l,s,q){if(!q){q=Q(l)}if(q&&O(q,"createTextNode")){if(W){W(l,"toolbar")}var n=H(l);for(var m=n.length;m--;){var j=n[m];var p,k=A("a",j);if(!k.length){var r=C(j);if(r){p=S(j,r,q)}}else{p=k[0]}Y(p,j,s.onfocus,s.callbackContext);K(j)}F(l,"mousedown",function(t){var i=e(t);if(g(i)=="a"){i=T(i)}if(T(i)==this&&!M(i)){V(i)}});F(l,"mouseup",function(t){var i=e(t);if(g(i)=="a"){i=T(i)}if(T(i)==this&&!M(i)){V(i,false)}});F(l,"click",function(z){var u,x,t,w=e(z),v;if(s.radio){var y=d(this);for(u=y.length;u--;){if(E(y[u])){v=y[u]}}}if(g(w)=="a"){w=T(w)}if(w!=this&&!M(w)){if(w&&s.onclick){t=h(s.onclick,s.callbackContext||API,this,w,v)}if(t!==false){if(s.radio){x=H(this);for(u=x.length;u--;){var AA=x[u];if(AA!=w){L(AA,false)}}if(w){L(w)}}}return b(z)}});var o=s.oncustomize;if(o){F(l,"dblclick",function(t){var i=e(t);if(i==this){h(o,s.callbackContext||API,this);return b(t)}})}l=n=null}};R.enhanceToolbar=N;var Z=function(i){return J(i)};R.attachDocumentReadyListener(function(){var i=global.API,k=i.attachDragToControl,j=i.detachDragFromControl;if(k){i.attachDragToToolbar=function(o,p,l){k(o,p);var n=H(o);for(var m=n.length;m--;){F(n[m],"mousedown",Z)}};i.detachDragFromToolbar=function(n,o){j(n,o);var m=H(n);for(var l=m.length;l--;){P(m[l],"mousedown",Z)}}}i=null});var c;if(X&&X("div")){R.addToolbarButton=c=function(l,j,m){if(!m){m=global.document}var k=X("div",m);k.className=j.className||"button";var i=S(k,j.text||"",m);Y(i,k,j.onfocus,j.callbackContext);if(j.title){k.title=j.title}if(j.id){k.id=j.id}K(k);l.appendChild(k);return k};R.removeToolbarButton=function(j,i){j.removeChild(i)};R.createToolbar=function(k,p){if(!p){p=global.document}if(!k){k={}}var n=X(k.tagName||"div",p);n.className=k.className||"toolbar";if(k.id){n.id=k.id}var o=k.buttons;if(o){var j=o.length;for(var m=0;m<j;m++){c(n,o[m],p)}}N(n,k,p);return n};R.getToolbarButtons=d=function(i){return H(i)}}R=null})()}