var API,E,Q;if(API&&API.getAnElement){(function(){var K=API.getAnElement;var J=K();var L=function(d,c){if(!c){c=K()}if(c&&typeof c.style[d]!="string"){d=d.charAt(0).toUpperCase()+d.substring(1);var e=["Moz","O","Webkit","Khtml"];for(var b=e.length;b--;){if(typeof c.style[e[b]+d]!="undefined"){return e[b]+d}}return null}return d.toLowerCase()};API.findProprietaryStyle=L;var Z=API.elementUniqueId,a=API.isHostObjectProperty,X=API.map,S=API.forEach;var U=L("transform",J),R=U+"Origin";var P,M,W,T,G=[1,0,0,1],O;var N={},Y={};var A=/progid:DXImageTransform.Microsoft.Matrix\s*\([^\)]+\)/,H=/%$/;var C,B;var V=Math.PI;var D=function(b){return b*V/180};var F=function(c,b){return[c[0]*b[0]+c[1]*b[2],c[0]*b[1]+c[1]*b[3],c[2]*b[0]+c[3]*b[2],c[2]*b[1]+c[3]*b[3]]};var I={skew:function(b){return[1,Math.tan(D(b)),Math.tan(D(b)),1]},skewX:function(b){return[1,0,Math.tan(D(b)),1]},skewY:function(b){return[1,Math.tan(D(b)),0,1]},rotate:function(c){var b=D(c);return[Math.cos(b),Math.sin(b),-Math.sin(b),Math.cos(b)]},scale:function(b){return[b,0,0,b]},scaleX:function(b){return[b,0,0,1]},scaleY:function(b){return[1,0,0,b]},flip:function(b){return[-1,0,0,-1]},flipH:function(b){return[-1,0,0,1]},flipV:function(b){return[1,0,0,-1]}};if(U){if(J&&typeof J.style[U]=="string"){O=(function(){var b=API.createElement("div");b.style[U]="matrix(1,0,0,1,0,0)";return !b.style[U]})}P=function(f){var d,b,g,c=f.style[U];if(typeof c=="string"){if(O&&(b=N[Z(f)])){return b}d=c.match(/matrix\(([\.\d]+),([\.\d]+),([\.\d]+),([\.\d]+),([\.\d]+,)?([\.\d]+)?\)/i);if(d){return X(d.slice(1,5),function(e){return +e})}}else{if(c&&API.isHostMethod(c,"getCSSMatrix")){try{b=c.getCSSMatrix()}catch(h){}if(b){S(["a","b","c","d"],function(e){if(isNaN(b[e])){g=true}});if(!g){return[b.a,b.b,b.c,b.d]}}}}return G.slice(0)};M=function(c,b){if(O){N[Z(c)]=b}c.style[U]=["matrix(",b[0].toFixed(8),",",b[1].toFixed(8),",",b[2].toFixed(8),",",b[3].toFixed(8),",0,0)"].join("")};T=function(c,b){Y[Z(c)]=b;c.style[R]=b.reverse().join(" ")};W=function(c,b,d){return Y[Z(c)]||["50%","50%"]}}else{if(J&&a(J,"filters")&&a(J,"style")&&typeof J.style.filter=="string"){P=function(c){var b=c.filters["DXImageTransform.Microsoft.Matrix"];if(b){return[b.M11,b.M21,b.m12,b.m22]}return G.slice(0)};M=function(e,b,f){var c=["progid:DXImageTransform.Microsoft.Matrix(M11=",b[0].toFixed(8),",","M12=",b[2].toFixed(8),",","M21=",b[1].toFixed(8),",","M22=",b[3].toFixed(8),",sizingMethod='auto expand'",")"].join("");if(!f&&e.currentStyle&&!e.currentStyle.hasLayout){e.style.zoom="1"}var d=e.style.filter;if(!d){e.style.filter=c}else{if(A.test(d)){e.style.filter=e.style.filter.replace(A,c)}else{e.style.filter+=" "+c}}}}}if(M){B=function(c,b){M(c,C(b))};API.setElementTransformMatrix=function(c,b){M(c,b)};API.getElementTransformMatrix=function(c,b){return P(c)};C=function(d){var c=G.slice(0),b;for(var e in d){if(API.isOwnProperty(d,e)&&(b=I[e])){c=F(c,b(d[e]))}}return c};API.setElementTransform=B;if(T){API.getElementTransformOrigin=function(b){return W(b)};API.setElementTransformOrigin=function(c,b){T(c,b)}}API.attachDocumentReadyListener(function(){var o,e,f,k,n;var d=function(q,r){var s={},i={},p=API.effects["transform"+q];return function(y,u,v,AA){var z,w,x,t=function(){s[w]=null;if(i[w]){i[w](y)}};if(v&&v.duration){w=Z(y);if(s[w]){s[w].stop(true)}x=new API.EffectTimer();v.effects=p;z=v.effectParams||{};z["target"+(q||"Transform")]=u;v.effectParams=z;i[Z(y)]=AA;s[w]=x;x.start(y,v,t)}else{r(y,u);if(AA){AA(y)}}}};if(API.effects){k=API.effects.transform=(function(){var r,q,s,p;return function(t,v,u,i){if(i==1){if(u.transform){u.matrix=C(u.transform)}else{if(!u.targetTransform){q={};s={};for(r=u.transformOperations.length;r--;){p=u.transformOperations[r];switch(p){case"flip":case"flipH":case"flipV":q[p]=true;break;case"scale":case"scaleX":case"scaleY":q[p]=0;s[p]=1;break;case"rotate":q.rotate=90;s.rotate=0;break;case"skew":case"skewX":case"skewY":q[p]=45;s[p]=0}}u.matrix=C(q);u.targetTransform=s}else{u.matrix=P(t)}}u.targetMatrix=C(u.targetTransform)}n(t,v,u,i)}})();API.effects.transformOrigin=(function(){var q,i,r,p;return function(t,v,u,s){switch(s){case 1:q=u.origin||W(t);i=u.targetOrigin;r=H.test(q[0]);p=H.test(i[0]);if(r&&p||!r&&!p){q[0]=parseFloat(q[0]);i[0]=parseFloat(i[0]);u.originXPercent=r;r=H.test(q[1]);p=H.test(i[1]);if(r&&p||!r&&!p){q[1]=parseFloat(q[1]);i[1]=parseFloat(i[1]);u.originYPercent=r;u.sourceOrigin=q;u.targetOrigin=i}}t.style.visibility="visible";break;case 3:f(t,u.origin);return }i=u.targetOrigin;if(u.sourceOrigin){q=u.sourceOrigin;f(t,[(q[0]+(i[0]-q[0])*v)+(u.originXPercent?"%":""),(q[1]+(i[1]-q[1])*v)+(u.originXPercent?"%":"")])}else{f(t,[i[0],i[1]])}}})();n=API.effects.transformMatrix=(function(){var r,q,s,p;return function(t,v,u,i){switch(i){case 1:if(!u.matrix){u.matrix=P(t)}t.style.visibility="visible";break;case 3:e(t,u.targetMatrix,true);return }q=[];s=u.matrix;p=u.targetMatrix;for(r=4;r--;){q[r]=(s[r]+(p[r]-s[r])*v)}e(t,q,true)}})();e=M;API.setElementTransformMatrix=M=d("Matrix",M);M.async=true;o=B;API.setElementTransform=d("",B);B.async=true;if(T){f=T;API.setElementTransformOrigin=T=d("Origin",T);T.async=true}API.effects.flip=function(q,s,r,i){if(i==1){switch(r.axes){case 1:r.transformOperations=["flipV"];break;case 3:r.transformOperations=["flip"];break;default:r.transformOperations=["flipH"]}}k(q,s,r,i)};API.effects.scale=function(q,s,r,i){if(i==1){switch(r.axes){case 1:r.transformOperations=["scaleY"];break;case 2:r.transformOperations=["scaleX"];break;default:r.transformOperations=["scale"]}}k(q,s,r,i)};API.effects.skew=function(q,s,r,i){if(i==1){switch(r.axes){case 1:r.transformOperations=["skewY"];break;case 2:r.transformOperations=["skewX"];break;default:r.transformOperations=["skew"]}}k(q,s,r,i)};API.effects.rotate=function(q,s,r,i){if(i==1){r.transformOperations=["rotate"]}k(q,s,r,i)};API.effects.spin=(function(){var q,i,p=I.rotate;return function(s,u,t,r){switch(r){case 1:t.matrix=P(s);if(t.spin){t.matrix=F(t.matrix,p(t.spin))}else{t.spin=0}if(!t.targetSpin){t.targetSpin=360}s.style.visibility="visible";break;case 3:e(s,t.matrix,true);return }q=t.spin;i=t.targetSpin;e(s,F(t.matrix,p(q+(i-q)*u)),true)}})();var j,l,h=["flip","skew","scale","rotate","spin","transform"];var g=API.showElement,c=API.effects;var m=function(q,i){var p=c[q];return function(r,s){r.effects=p;g(this.element(),i,r,s);return this}};var b=function(q,i){var p=c[q];return function(r,s){r.effects=p;this.forEach(function(t){g(t,i,r,s)});return this}};if(g){if(E&&E.prototype){for(j=h.length;j--;){l=h[j];E.prototype[l+"In"]=m(l,true);E.prototype[l+"Out"]=m(l,false)}}if(Q&&Q.prototype){for(j=h.length;j--;){l=h[j];E.prototype[l+"In"]=b(l,true);E.prototype[l+"Out"]=b(l,false)}}}}});if(E&&E.prototype){E.prototype.setTransform=function(c,b,d){B(this.element(),c,b,d);return this};E.prototype.getTransformMatrix=function(){return P(this.element())};E.prototype.setTransformMatrix=function(c,b,d){M(this.element(),c,b,d);return this};if(T){E.prototype.setTransformOrigin=function(b,c,d){T(this.element(),b,c,d);return this}}}if(Q&&Q.prototype){Q.prototype.setTransform=function(c,b,d){this.forEach(function(e){B(e,c,b,d)});return this};Q.prototype.setTransformMatrix=function(b,c,d){this.forEach(function(e){M(e,b,c,d)});return this};if(T){Q.prototype.setTransformOrigin=function(b,c,d){this.forEach(function(e){T(e,b,c,d)});return this}}}}J=null})()}